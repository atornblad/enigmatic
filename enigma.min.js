var g=void 0,n=Math.random,s=0,t=1,u;a:{for(var aa=["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],ba=0;ba<aa.length;++ba){var ca=aa[ba];if(window[ca]){u=window[ca];break a}}u=function(a){var c=(new Date).getTime(),c=c-c%17+17-c;5>c&&(c=17);window.setTimeout(function(){a.call(window,(new Date).getTime())},c)}}var da=4*Math.atan(1),la=Math.max(320,256);function w(a){return(1-Math.cos(a*da))/2}
var ma,x,y,na,A,B,C,D,E,F,oa,pa,qa,ra,sa=0,ta,ua,G,H,va=[{x:0,y:-100,e:0},{x:-70,y:-70,e:-70},{x:70,y:-70,e:-70},{x:70,y:-70,e:70},{x:-70,y:-70,e:70},{x:-100,y:0,e:0},{x:0,y:0,e:-100},{x:100,y:0,e:0},{x:0,y:0,e:100},{x:-70,y:70,e:-70},{x:70,y:70,e:-70},{x:70,y:70,e:70},{x:-70,y:70,e:70},{x:0,y:100,e:0}],wa=[{f:[0,1,2]},{f:[0,2,3]},{f:[0,3,4]},{f:[0,4,1]},{f:[4,5,1]},{f:[1,6,2]},{f:[2,7,3]},{f:[3,8,4]},{f:[9,6,1]},{f:[1,5,9]},{f:[2,6,10]},{f:[10,7,2]},{f:[11,8,3]},{f:[3,7,11]},{f:[4,8,12]},{f:[12,
5,4]},{f:[9,5,12]},{f:[10,6,9]},{f:[11,7,10]},{f:[12,8,11]},{f:[9,13,10]},{f:[10,13,11]},{f:[11,13,12]},{f:[12,13,9]}],I=0,J=0,K=0,xa=0;function L(a,c,b){return(a+c+(n()-0.5)*b/8)/2}
function Ca(a){var c=Array(66049);c[0]=0.2*n()-0.1+a;c[256]=0.2*n()-0.1+a;c[65792]=0.2*n()-0.1+a;c[66048]=0.2*n()-0.1+a;for(a=256;2<=a;){for(var b=a>>1,d=0;257>d;d+=a)for(var e=0;257>e;e+=a){var f=c[257*d+e],h=c[257*d+e+a],j=c[257*(d+a)+e],l=c[257*(d+a)+e+a],k=L(f,h,a),f=L(f,j,a),h=L(h,l,a),j=L(j,l,a),l=L(k,j,a),m=L(f,h,a),l=L(m,l,a);c[257*d+e+b]=Math.max(-0.6,Math.min(1,k));c[257*(d+b)+e]=Math.max(-0.6,Math.min(1,f));c[257*(d+b)+e+b]=Math.max(-0.6,Math.min(1,l));c[257*(d+b)+e+a]=Math.max(-0.6,Math.min(1,
h));c[257*(d+a)+e+b]=Math.max(-0.6,Math.min(1,j))}a=b}return c}var Da=Ca(0.7),Ea=Ca(0.3);function M(a,c){switch(Fa){case 0:case 1:return Da[257*c+a];case 2:return(1-Ga)*Da[257*c+a]+Ga*Ea[257*c+a];default:return Ea[257*c+a]}}function Ha(a,c){var b=Math.floor(a),d=Math.floor(c),e=a-b,f=c-d,h=b+1,j=d+1;return(M(b,d)*(1-f)+M(b,j)*f)*(1-e)+(M(h,d)*(1-f)+M(h,j)*f)*e}var N=128,O=128,P=62E3,Q=10,R=0,S=7,Fa=0,Ga=0,T=0;
function Ia(a,c,b){if(b>c){var d;d=a[c+b>>1];for(var e=c,f=b;e<=f;){for(;a[e].h>d.h;)++e;for(;a[f].h<d.h;)--f;if(e<=f){if(e<f){var h=a[e];a[e]=a[f];a[f]=h}++e;--f}}d=e;c<d-1&&Ia(a,c,d-1);d<b&&Ia(a,d,b)}}
for(var U=0,Ja=0,V=0,W=0,X=0,Ka=[{g:[0,0,100],coords:[[100,-100,100],[-100,-100,100],[-100,100,100],[100,100,100]]},{g:[0,0,-100],coords:[[-100,-100,-100],[100,-100,-100],[100,100,-100],[-100,100,-100]]},{g:[0,-100,0],coords:[[100,-100,-100],[-100,-100,-100],[-100,-100,100],[100,-100,100]]},{g:[0,100,0],coords:[[-100,100,-100],[100,100,-100],[100,100,100],[-100,100,100]]},{g:[-100,0,0],coords:[[-100,-100,-100],[-100,100,-100],[-100,100,100],[-100,-100,100]]},{g:[100,0,0],coords:[[100,100,-100],[100,
-100,-100],[100,-100,100],[100,100,100]]}],La=[],Ma=0;500>Ma;++Ma)La.push({x:2*n()-1,y:2*n()-1,e:0.5*n()+0.5});var Na=[[48,212,49,191,81,202,93,195,95,154,75,134,63,141,33,84,29,193],[128,205,140,155,162,155,169,205,194,150,176,84,160,136,141,137,133,82,110,143],[237,209,300,99,243,123,200,84]],Oa=0;
function Pa(a,c,b,d,e,f,h){x.fillStyle="#0000ff";for(var j,l=0;j=Na[l++];){x.beginPath();for(var k=0;k<j.length;k+=2){var m=0.6*(j[k]-160),r=-0.6*((160-j[k+1])*a[0]/100),q=y[Oa],p=y[Oa+16384&65535],m=Y(Z([a[0],m*p+r*q,r*p-m*q],c,b,d,e,f,h));0==l?x.moveTo(m.x,m.y):x.lineTo(m.x,m.y)}x.closePath();x.fill()}Oa=Oa+197*t&65535}var Qa=[[-40,-40,70],[40,-40,70],[40,40,70],[-40,40,70],[0,0,-70]],Ra=[[0,4,3],[1,4,0],[2,4,1],[3,4,2],[3,2,1,0]],Sa=0,Ta=0;
function Ua(a,c,b,d,e,f,h){for(var j=y[Sa],l=y[Sa+16384&65535],k=y[Ta],m=y[Ta+16384&65535],r=[],q,p=0;q=Qa[p++];)r.push(Y(Z(q,j,l,k,m,0,0)));j=[];for(p=0;l=Ra[p];++p){for(k=m=0;k<l.length;++k){q=l[k];var z=l[(k+1)%l.length],m=m+(r[z].x-r[q].x)*(r[z].y+r[q].y)}0>m&&j.push(p)}x.beginPath();for(p=0;p<j.length;++p){l=Ra[j[p]];for(k=0;k<=l.length;++k)m=r[l[k%l.length]],m=Y(Z([m.x-320,a[1],m.y-256],c,b,d,e,f,h)),0==k?x.moveTo(m.x,m.y):x.lineTo(m.x,m.y)}x.closePath();x.strokeStyle="#ffffff";x.stroke()}
function Va(a,c,b,d,e,f,h){for(var j,l=0;l<500*A&&(j=La[l++]);){var k=j.x+a[0],m=j.y+a[1];j.x+=0.02*j.e*j.e*t;1<j.x&&(j.x-=2);k=Y(Z([100*k+a[0],100*m+a[1],a[2]],c,b,d,e,f,h));x.fillStyle="rgba(255,255,255,"+(j.e*j.e).toFixed(3)+")";x.fillRect(k.x-j.e,k.y-j.e,2*j.e,2*j.e)}}var Wa=[Va,Va,Ua,Ua,Pa,Pa];function Y(a){return{x:320+600*a.x/(600+a.e),y:256+600*a.y/(600+a.e)}}function Z(a,c,b,d,e,f,h){var j=a[0],l=a[1];a=a[2];var k=a*b-l*c;f=j*e+k*d+f;d=k*e-j*d+h;return{x:f,y:l*b+a*c,e:d}}
var Xa=[[2,95,33,95,33,58,62,58,62,40,33,40,33,2,2,2],[38,95,86,95,86,68,57,68,57,77,38,77],[38,20,57,20,57,29,86,29,86,2,38,2],[101,86,128,42,128,2,101,2],[101,95,134,95,190,2,157,2],[163,95,190,95,190,11,163,55],[206,95,255,95,255,75,246,75,246,22,255,22,255,2,206,2,206,22,215,22,215,75,206,75],[288,95,300,95,300,20,327,20,327,2,288,2,270,20,270,77],[306,95,344,95,359,77,359,67,329,67,329,77,306,77],[318,53,359,53,359,2,332,2,332,35,318,35],[375,86,403,38,403,2,375,2],[375,95,408,95,433,53,452,
87,452,40,430,2],[457,95,488,95,488,2,457,2],[497,2,530.5,90,544,54,527,2],[534,95,564,95,601,2,570,2,566,12,536,12,542,30,559,30],[597,95,678,95,678,75,597,76],[622,70,653,70,653,2,622,2],[689,95,738,95,738,75,729,75,729,22,738,22,738,2,689,2,689,22,698,22,698,75,689,75],[770,95,782,95,782,2,770,2,752,20,752,77],[788,95,821,95,839,76,839,58,808,58,808,77,788,77],[788,20,808,20,808,39,839,39,839,19,821,2,788,2]];
function Ya(a,c,b,d){b-=425.5;d=48.5-d;switch(a){case 0:return{x:320+0.7*c*b,y:256+0.7*c*d};case 1:return a=100-d/20-b/40,{x:320+(0.7*b*(1-c)+b*(70/a)*c),y:256+(0.7*d*(1-c)+d*(70/a)*c)};case 2:return a=(100-d/20-b/40)*(1-c)+(100+b/30-d/25)*c,{x:320+b*(70/a),y:256+d*(70/a)};case 3:return a=100+b/30-d/25,{x:320+b*(70/a)*(1-c),y:256+d*(70/a)*(1-c)};default:return{x:320+b,y:256+d}}}function $(a,c,b,d,e,f){a=Ya(a,c,b,d);x.lineTo(a.x+e,a.y+f)}
var Za=[function(a,c,b,d){c=na;var e=w(b);x.clearRect(0,0,640,512);switch(a){case 1:B=16384*w(b);break;case 2:B=16384;break;case 3:B+=d*e*D;C+=d*e*E;break;case 4:B+=d*D;C+=d*E;break;case 5:B+=d*(1-e)*D;C+=d*(1-e)*E;break;case 7:B=16384,C=0,oa=0.01+0.08*b}b=B;var f=C;if(6==a){for(var h=16384,j=0;b>h+32768;)h+=65536;for(;f>j+32768;)j+=65536;b=b*(1-e)+h*e;f=f*(1-e)+j*e}b&=65535;f&=65535;for(F+=d*oa;2<=F;)F-=2;d=F;x.fillStyle="#ffffff";for(h=0;h<3E3*A;++h){for(var l=c[h],k=l.x+d;1<k;)k-=2;for(;-1>k;)k+=
2;var j=l.y,m=l.e,r=y[b+16384&65535],q=y[b&65535],p=y[f+16384&65535],z=y[f&65535],ea=m*r-k*q,l=ea*p-j*z,k=2*(k*r+m*q)/(2+l)*la+320,j=2*(j*p+ea*z)/(2+l)*la+256;x.globalAlpha=-1==a?(0.6-0.4*l)*e:7==a?(0.6-0.4*l)*(1-e):0.6-0.4*l;x.fillRect(k,j,2-l,2-l)}},function(a,c,b){c=w(b);x.clearRect(0,0,640,512);var d=b=0;1==a?(b=-5*c,d=-9*c):2==a?(b=11*c-5,d=2*c-9):3==a&&(b=6*(1-c),d=-7*(1-c));x.fillStyle="rgba(255,51,153,0.1)";x.strokeStyle="rgba(255,255,255,0.1)";x.beginPath();for(var e,f=0;e=Xa[f++];){var h=
Ya(a,c,e[0],e[1]);x.moveTo(h.x+0,h.y+0);for(h=2;h<e.length;h+=2)$(a,c,e[h],e[h+1],0,0);$(a,c,e[0],e[1],0,0)}x.closePath();x.fill();x.fillStyle="rgba(255,51,153,0.3)";for(f=0;e=Xa[f++];)for(var j=e.length,h=0;h<j;h+=2){x.beginPath();var l=Ya(a,c,e[h],e[h+1]);x.moveTo(l.x+0,l.y+0);$(a,c,e[(h+2)%j],e[(h+3)%j],0,0);$(a,c,e[(h+2)%j],e[(h+3)%j],b,d);$(a,c,e[h],e[h+1],b,d);$(a,c,e[h],e[h+1],0,0);x.closePath();x.fill();x.stroke()}x.fillStyle="rgba(153,51,255,0.2)";x.beginPath();for(f=0;e=Xa[f++];){h=Ya(a,
c,e[0],e[1]);x.moveTo(h.x+b,h.y+d);for(h=2;h<e.length;h+=2)$(a,c,e[h],e[h+1],b,d);$(a,c,e[0],e[1],b,d)}x.closePath();x.fill();x.stroke()},function(a,c,b,d){b=w(b);x.clearRect(0,0,640,512);c=0==a?400*b-200:200;x.globalAlpha=0==a?b:10==a?1-b:1;switch(a){case 2:V=65536-16384*b;break;case 3:V=49152;break;case 4:W=65536-16384*b;break;case 5:W=49152;break;case 6:X=b;break;case 7:X=1;break;case 8:Ja=b;break;case 9:Ja=1}V=V+157*d*X&65535;W=W+173*d*X&65535;U=U+197*d*Ja&65535;Sa=Sa+217*d&65535;Ta=Ta+181*d&
65535;a=-c*y[U+16384&65535];d=c*y[U];c=y[V+16384&65535];b=y[V&65535];for(var e=y[W+16384&65535],f=y[W&65535],h,j=0;h=Ka[j++];){for(var l=[],k=0;3>=k;++k){var m=h.coords[k%4],m=Z(m,b,c,f,e,d,a),m=Y(m);l[k]=m}for(k=m=0;3>=k;++k)m+=(l[(k+1)%4].x-l[k].x)*(l[(k+1)%4].y+l[k].y);if(0>m){x.beginPath();for(k=0;4>=k;++k)m=l[k%4],0==k?x.moveTo(m.x,m.y):x.lineTo(m.x,m.y);x.closePath();x.strokeStyle="#0000ff";x.stroke();(0,Wa[j-1])(h.g,b,c,f,e,d,a)}}},function(a,c,b,d){c=w(b);var e=0.1<b?1:w(10*b);b=0.9>b?1:w(10-
10*b);Fa=a;Ga=c;switch(a){case 0:Q=20-19.2*c;R=0;break;case 1:Q=0.8;R=0.04*Math.min(e,b);break;case 2:R=0;T=c;break;case 3:T=1;R=0.04*e;break;case 4:Q=0.8+19.2*c}P=P+S*d&65535;a=y[P];b=y[P+16384&65535];O+=R*b*d;N-=R*a*d;S=7;20>O&&(S=50,O=20);20>N&&(S=50,N=20);236<O&&(S=50,O=236);236<N&&(S=50,N=236);d=Ha(N,O)+Q;0.7>d&&(d=0.7);c=1-0.6*((10-d)/9.7);0.4>c&&(c=0.4);0.999<c&&(c=0.999);e=(1+c)/2;if(1>T){var f=x.createLinearGradient(0,0,0,512);f.addColorStop(0,"#000000");f.addColorStop(c,"#000000");f.addColorStop(e,
"#443322");f.addColorStop(1,"#443322");x.fillStyle=f;x.fillRect(0,0,640,512)}0<T&&(x.globalAlpha=T,f=x.createLinearGradient(0,0,0,512),f.addColorStop(0,"#000000"),f.addColorStop(c,"#000033"),f.addColorStop(e,"#113377"),f.addColorStop(1,"#113377"),x.fillStyle=f,x.fillRect(0,0,640,512),x.globalAlpha=1);e=Math.round(N);f=Math.round(O);c=[];for(var h=-20;19>=h;++h)for(var j=-20;19>=j;++j){var l=e+h-N,k=f+j-O,m=l*l+k*k;if(330>m){var r=l*b+k*a,q=k*b-l*a,l=l+1.05,p=l*b+k*a,z=k*b-l*a,k=k+1.05,ea=l*b+k*a,
ya=k*b-l*a,l=l-1.05,ab=l*b+k*a,l=k*b-l*a;if(-4<=q&&-4<=z&&-4<=ya&&-4<=l){var k=M(e+h,f+j),za=M(e+h+1,f+j),Aa=M(e+h+1,f+j+1),Ba=M(e+h,f+j+1);0>k&&(k=0);0>za&&(za=0);0>Aa&&(Aa=0);0>Ba&&(Ba=0);var v=Ha(e+h+0.5,f+j+0.5),fa=g,ga=g,ha=g,ia=g,ja=g,ka=g,m=1-Math.sqrt(m)/18.2;1>T?0>=v?(ia=200+150*v,ka=ja=0):(ia=120+120*v,ja=30+20*v,ka=10+20*v):ka=ja=ia=0;0<T?0>=v?(ga=fa=0,ha=200+150*v):(fa=20+60*v,ga=80+100*v,ha=10+30*v):ha=ga=fa=0;c.push({coords:[320+90*r/(5+q),296+1E3*(d-k)/(5+q),320+90*p/(5+z),296+1E3*
(d-za)/(5+z),320+90*ea/(5+ya),296+1E3*(d-Aa)/(5+ya),320+90*ab/(5+l),296+1E3*(d-Ba)/(5+l)],h:q,fill:"rgba("+(ia*(1-T)+fa*T).toFixed(0)+","+(ja*(1-T)+ga*T).toFixed(0)+","+(ka*(1-T)+ha*T).toFixed(0)+","+m.toFixed(3)+")"})}}}Ia(c,0,c.length-1);for(b=0;a=c[b++];)x.beginPath(),x.moveTo(a.coords[0],a.coords[1]),x.lineTo(a.coords[2],a.coords[3]),x.lineTo(a.coords[4],a.coords[5]),x.lineTo(a.coords[6],a.coords[7]),x.fillStyle=a.fill,x.closePath(),x.fill()},function(a,c,b,d){x.globalAlpha=1;c=x.createLinearGradient(0,
0,0,512);c.addColorStop(0,"#000000");c.addColorStop(1,"#000033");x.fillStyle=c;x.fillRect(0,0,640,512);0==a&&(x.globalAlpha=b);I+=317*d;J+=131*d;xa=xa+293*d&65535;K=K+113*d&65535;c=100-200*Math.abs(y[xa]);var e=y[J+16384&65535],f=y[J&65535],h=y[I+16384&65535],j=y[I&65535];a=Array(va.length);var l=200*y[K],k=200*y[K+16384&65535];for(b=0;d=va[b];++b)d=Z([d.x,d.y,d.e],f,e,j,h,l,k),d.y+=c,150<d.y&&(d.y=150),a[b]=Y(d);c=[];e=[];for(b=0;h=wa[b];b++){j=[];for(f=0;2>=f;++f)d=a[h.f[f]],j[f]=d;for(f=d=0;2>=
f;++f)d+=(j[(f+1)%3].x-j[f].x)*(j[(f+1)%3].y+j[f].y);0>d?c.push(b):e.push(b)}for(b=0;b<c.length;++b){j=c[b];h=wa[j];x.beginPath();for(f=0;2>=f;++f)d=a[h.f[f]],0==f?x.moveTo(d.x,d.y):x.lineTo(d.x,d.y);x.fillStyle=j&1?"rgba(192, 0, 0, 0.4)":"rgba(96, 128, 192, 0.3)";x.closePath();x.fill()}for(b=0;b<e.length;++b){j=e[b];h=wa[j];x.beginPath();for(f=0;2>=f;++f)d=a[h.f[f]],0==f?x.moveTo(d.x,d.y):x.lineTo(d.x,d.y);x.fillStyle=j&1?"rgba(255, 0, 0, 0.5)":"rgba(255, 153, 153, 0.4)";x.closePath();x.fill()}}],
$a=[{mode:1,a:1E3,b:6E3,text:"LBRTW gives you...",y:256,font:48},{mode:1,a:6300,b:14E3,text:"A Canvas Hack",y:166,font:28},{mode:1,a:6700,b:14500,text:"Inspired by",y:200,font:40},{mode:1,a:7100,b:15500,text:"The 1991 Amiga demo",y:250,font:36},{mode:1,a:7100,b:17E3,text:"Enigma",y:300,font:64},{mode:1,a:19E3,b:23E3,text:"Music",y:192,font:32},{mode:1,a:19500,b:25E3,text:"Jimmy Fredriksson (Firefox)",y:232,font:39},{mode:1,a:19500,b:25E3,text:"Robert \u00d6sterbergh (Tip)",y:280,font:39},{mode:1,
a:2E4,b:24E3,text:"(shamelessly ripped)",y:316,font:24},{mode:1,a:26E3,b:3E4,text:"Programming",y:216,font:32},{mode:1,a:26500,b:32E3,text:"Anders Tornblad",y:256,font:48},{mode:1,a:27E3,b:31E3,text:"(JavaScript, Algorithms, Math and stuff)",y:292,font:24},{mode:1,a:32E3,b:36E3,text:"One hundred percent",y:216,font:32},{mode:1,a:32500,b:38E3,text:"Flash-free",y:256,font:48},{mode:1,a:33E3,b:37E3,text:"(No Silverlight or Java either)",y:292,font:24},{mode:1,a:38E3,b:45E3,text:"Tested on",y:104,font:32},
{mode:1,a:38500,b:45500,text:"Chrome, FireFox",y:144,font:48},{mode:1,a:39E3,b:46E3,text:"Safari, IE9, IE10",y:192,font:48},{mode:1,a:39500,b:46500,text:"iPhone, iPad",y:240,font:48},{mode:1,a:4E4,b:47E3,text:"Android devices",y:288,font:48},{mode:1,a:40500,b:47500,text:"Windows Phone",y:336,font:48},{mode:1,a:41E3,b:48E3,text:"Samsung Smart TV",y:376,font:32},{mode:2,a:43500,b:48500,text:"Yes, really!",y:400,font:16},{mode:3,a:5E4,b:68E3,text:"There are no bitmap images used in this demo",y:452,
font:32},{mode:1,a:7E4,b:8E4,text:"Star field",y:60,font:40},{mode:1,a:78E3,b:88E3,text:"Hidden line vector",y:60,font:40},{mode:1,a:86E3,b:96E3,text:"Old-school plane vector",y:60,font:40},{mode:3,a:1E5,b:106E3,text:"This demo has an adaptive mechanism.",y:452,font:32},{mode:3,a:105E3,b:12E4,text:"The number of stars and surfaces are automatically limited to an amount that your computer and browser can handle.",y:452,font:32},{mode:1,a:128E3,b:135E3,text:"Welcome to Mars",y:200,font:40},{mode:1,
a:145E3,b:153E3,text:"Fun fact:",y:200,font:40},{mode:1,a:145500,b:153500,text:"This is a fractal landscape",y:236,font:32},{mode:1,a:146E3,b:154E3,text:"with random seeds, so it will",y:268,font:32},{mode:1,a:146500,b:154500,text:"look different each time",y:300,font:32},{mode:1,a:165E3,b:173E3,text:"Fun fact:",y:200,font:40},{mode:1,a:165500,b:173500,text:"Marsian gravity is only 38%",y:236,font:32},{mode:1,a:166E3,b:174E3,text:"of Earth's, so I would feel",y:268,font:32},{mode:1,a:166500,b:174500,
text:"like only 30kg (70lb) there",y:300,font:32},{mode:1,a:179E3,b:188E3,text:"Terraforming...",y:200,font:40},{mode:1,a:195E3,b:203E3,text:"Fun fact:",y:200,font:40},{mode:1,a:195500,b:203500,text:"The Mars scene in Enigma was",y:236,font:32},{mode:1,a:196E3,b:204E3,text:"truly groundbreaking. I'm sorry,",y:268,font:32},{mode:1,a:196500,b:204500,text:"but there are no choppers or",y:300,font:32},{mode:1,a:197E3,b:205E3,text:"cool buildings in this version.",y:332,font:32},{mode:3,a:2E5,b:22E4,text:"Do you want to know how this was made? Go to lbrtw.com to read all about it.",
y:30,font:32},{mode:3,a:218E3,b:237E3,text:"The raytracer scene from the original Enigma demo is not in here at all.",y:30,font:32},{mode:3,a:235E3,b:255E3,text:"Neither are the various balls, but there will be one nice glenz ball for you.",y:30,font:32},{mode:3,a:26E4,b:28E4,text:'This is the end of the "Phenomenal & Enigmatic" JavaScript demo by Anders Tornblad',y:30,font:32},{mode:3,a:275E3,b:288E3,text:"I hope you have enjoyed it. I enjoyed making it.",y:30,font:32},{mode:1,a:285E3,b:33E4,text:"The End",
y:256,font:64}],bb=[{a:0,b:2E3,c:0,d:-1},{a:2E3,b:4E3,c:0,d:0},{a:4E3,b:7E3,c:0,d:1},{a:7E3,b:11E3,c:0,d:2},{a:11E3,b:13E3,c:0,d:3},{a:13E3,b:42E3,c:0,d:4},{a:42E3,b:45E3,c:0,d:5},{a:45E3,b:48E3,c:0,d:6},{a:48E3,b:5E4,c:0,d:7},{a:5E4,b:54E3,c:1,d:0},{a:54E3,b:58E3,c:1,d:1},{a:58E3,b:64E3,c:1,d:2},{a:64E3,b:68E3,c:1,d:3},{a:68E3,b:72E3,c:2,d:0},{a:72E3,b:78E3,c:2,d:1},{a:78E3,b:8E4,c:2,d:2},{a:8E4,b:86E3,c:2,d:3},{a:86E3,b:88E3,c:2,d:4},{a:88E3,b:95500,c:2,d:5},{a:95500,b:97500,c:2,d:6},{a:97500,b:106E3,
c:2,d:7},{a:106E3,b:108E3,c:2,d:8},{a:108E3,b:122E3,c:2,d:9},{a:122E3,b:126E3,c:2,d:10},{a:126E3,b:130500,c:3,d:0},{a:130500,b:18E4,c:3,d:1},{a:18E4,b:193E3,c:3,d:2},{a:193E3,b:255E3,c:3,d:3},{a:255E3,b:26E4,c:3,d:4},{a:26E4,b:264E3,c:4,d:0},{a:264E3,b:666E3,c:4,d:1},!1];
function cb(a){if(qa){t=60*((a-pa)/1E3);s=a-qa;var c=bb[sa];c&&s>=c.b&&(++sa,c=bb[sa]);if(c){var b=s-c.a,d=b/(c.b-c.a);ta=Za[c.c];var e=(new Date).getTime();x.globalAlpha=1;x.save();ta.call(this,c.d,b,d,t);x.restore();x.save();for(c=0;b=$a[c++];)if(b.a<=s&&b.b>s){var f=s,d=f-b.a;x.font=b.font+"px 'Bowlby One SC'";x.fillStyle="#0000ff";x.textBaseline="middle";if(2>=b.mode){var f=b.b-f,h=1;2E3>d&&(h=d/2E3);2E3>f&&(h=f/2E3);x.globalAlpha=h;x.textAlign=1==b.mode?"center":"left";x.fillText(b.text,320,
b.y)}else 3==b.mode&&(d/=b.b-b.a,b.width||(b.width=x.measureText(b.text).width),d=640+(-b.width-640)*d,x.globalAlpha=1,x.textAlign="left",x.fillText(b.text,d,b.y))}x.restore()}e=(22-((new Date).getTime()-e)-10*t)/200;0<e&&(e*=0.005);e=A+e;1<e?e=1:0.1>e&&(e=0.1);A=e}ra&&(pa||(qa=a-1E3*ra),pa=a);ua&&u(cb)}function db(){ua=!0;u(cb);document.getElementById("pressPlay").style.display="none";G.style.position="absolute";G.style.left="-1000px";G.style.top="-1000px"}function eb(){ra=H.currentTime}
window.onload=function(){ma=document.getElementById("demo");x=ma.getContext("2d");G=document.getElementById("mod");H=document.getElementById("musiklinjen");ua=!1;H.addEventListener("play",db,!1);H.addEventListener("timeupdate",eb,!1);for(var a=[],c=0;3E3>c;++c)a.push({x:2*n()-1,y:2*n()-1,e:2*n()-1});na=a;F=C=B=0;D=137;E=79;oa=0.01;A=1;for(var a=[],c=4*Math.atan(1),b=0;65535>=b;++b)a.push(Math.sin(b*c/32768));y=a;H.play()};